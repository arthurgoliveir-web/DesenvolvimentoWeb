<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Teste - Adicionar ao Carrinho</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      padding: 20px;
      max-width: 600px;
      margin: 0 auto;
    }
    button {
      background: #07484A;
      color: white;
      padding: 15px 30px;
      border: none;
      border-radius: 8px;
      font-size: 16px;
      cursor: pointer;
      margin: 10px 0;
    }
    button:hover {
      background: #0a5f62;
    }
    .info {
      background: #f0f0f0;
      padding: 15px;
      border-radius: 8px;
      margin: 10px 0;
    }
  </style>
</head>
<body>
  <h1>Teste do Carrinho</h1>
  
  <section class="info">
    <h2>Servi√ßo: Desenvolvimento Web - B√°sico</h2>
    <p>Pre√ßo: A partir de R$ 150</p>
  </section>
  
  <button onclick="testarAdicionar()">Adicionar ao Carrinho</button>
  <button onclick="verCarrinho()">Ver Carrinho no Console</button>
  <button onclick="irParaCarrinho()">Ir para P√°gina do Carrinho</button>
  <button onclick="limparCarrinho()">Limpar Carrinho</button>
  
  <section id="resultado" style="margin-top: 20px;"></section>
  
  <script>
    // Fun√ß√£o para adicionar item ao carrinho
    function testarAdicionar() {
      const item = {
        id: 'programacao-1',
        titulo: 'Desenvolvimento Web - B√°sico',
        preco: 'A partir de R$ 150',
        valor: 150,
        imagem: '../IMG/programa-1.png'
      };
      
      // Pega carrinho atual
      let carrinho = [];
      const carrinhoJson = localStorage.getItem('carrinho');
      if (carrinhoJson) {
        carrinho = JSON.parse(carrinhoJson);
      }
      
      // Verifica se j√° existe
      const existe = carrinho.find(i => i.id === item.id);
      if (existe) {
        document.getElementById('resultado').innerHTML = '<p style="color: orange;">‚ùó Item j√° est√° no carrinho!</p>';
        return;
      }
      
      // Adiciona
      carrinho.push(item);
      localStorage.setItem('carrinho', JSON.stringify(carrinho));
      
      document.getElementById('resultado').innerHTML = '<p style="color: green;">‚úì Item adicionado com sucesso!</p>';
    }
    
    // Ver o que tem no carrinho
    function verCarrinho() {
      const carrinhoJson = localStorage.getItem('carrinho');
      console.log('Carrinho atual:', carrinhoJson);
      
      if (carrinhoJson) {
        const carrinho = JSON.parse(carrinhoJson);
        document.getElementById('resultado').innerHTML = 
          `<p><strong>Carrinho tem ${carrinho.length} item(ns)</strong></p>
           <pre>${JSON.stringify(carrinho, null, 2)}</pre>`;
      } else {
        document.getElementById('resultado').innerHTML = '<p>Carrinho vazio</p>';
      }
    }
    
    // Ir para p√°gina do carrinho
    function irParaCarrinho() {
      window.location.href = './PI - Carrinho/PI - Carrinho.html';
    }
    
    // Limpar carrinho
    function limparCarrinho() {
      localStorage.removeItem('carrinho');
      document.getElementById('resultado').innerHTML = '<p style="color: red;">üóëÔ∏è Carrinho limpo!</p>';
    }
  </script>
</body>
</html>
